!function(t){var e={};function n(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(o,s,function(e){return t[e]}.bind(null,s));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=61)}({61:function(t,e,n){t.exports=n(62)},62:function(t,e){$((function(){var t=$("#js-get-token").data(),e=$("#js-get-img-normal").data(),n=$("#js-get-img-good").data(),o=$("#js-get-stock").data();$(document).ready((function(){$(".c-evaluation-star").each((function(){for(var t=$(this).data("count"),e=5-t,n="",o=0;o<t;o++)n+='<span class="c-evaluation-star-icon js-star-icon is-star-colord">★</span>';for(o=0;o<e;o++)n+='<span class="c-evaluation-star-icon js-star-icon">★</span>';$(this).append(n)}))}));var s=!0;$(".likes-flag").each((function(){var o=this;$(this).on("click",(function(a){var i=$(o).find(".reviewId").data("reviewid"),c=parseInt($(o).nextAll(".likes-count").text());$(o).hasClass("done")&&s?(s=!1,$.ajax({type:"POST",url:"/review/"+i+"/unLike",dataType:"json",data:{_token:t.name,reviewId:i},context:o}).done((function(t){"404"==t?console.log("404"):($(this).removeClass("done"),$(this).nextAll(".likes-count").text(c-=1),$(this).children("img").attr("src",e.name),s=!0)})).fail((function(t){console.log("NG"+t.responseText)}))):!$(o).hasClass("done")&&s&&(s=!1,$.ajax({type:"POST",url:"/review/"+i+"/like",dataType:"json",data:{_token:t.name,reviewId:i},context:o}).done((function(t){"404"==t?console.log("404"):($(this).addClass("done"),$(this).nextAll(".likes-count").text(c+=1),$(this).children("img").attr("src",n.name),s=!0)})).fail((function(t){console.log("NG"+t.responseText)})))}))})),$(".p-detail-columns-reviews-sorts p").on("click",(function(){$(".p-detail-columns-reviews-sorts p").removeClass("sort-active"),$(this).addClass("sort-active")})),$(".c-modal-close").on("click",(function(){$(".js-form-input").val(null),$(".js-star-icon").removeClass("is-star-colord")}));var a=!0,i=o.name;$(".stock").on("click",(function(){$(this).hasClass("is-remove")&&a?(a=!1,$.ajax({type:"DELETE",url:"/review/"+i+"/unstock",dataType:"json",data:{_token:t.name,isbn:i},context:this}).done((function(t){$(this).removeClass("is-remove"),$(this).text("読みたい本リストに追加"),a=!0})).fail((function(t){console.log("NG"+t.responseText)}))):!$(this).hasClass("is-remove")&&a&&(a=!1,$.ajax({type:"POST",url:"/review/"+i+"/stock",dataType:"json",data:{_token:t.name,isbn:i},context:this}).done((function(t){$(this).addClass("is-remove"),$(this).text("リストから削除"),a=!0})).fail((function(t){console.log("NG"+t.responseText)})))})),$(".comment-post-button").on("click",(function(){var t=$(this).data("reviewid");$(".comment-review-id").val(t)})),$(".comments").hide(),$(".js-comment-button").each((function(t){var e=t;$(this).attr("id","js-"+e+"-comment-button"),$("#js-"+e+"-comment-button").on("click",(function(){$(".js-"+e+"-comments").slideToggle()}))})),$(".comments").each((function(t){var e=t;$(this).attr("class","js-"+e+"-comments")})),$(".is-view").on("click",(function(){if($(this).toggleClass("active"),$(this).hasClass("active"))var t=$(this).data("text-clicked");else t=$(this).data("text-default");$(this).html(t)}))}))}});